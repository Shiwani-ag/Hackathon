(window.webpackJsonp=window.webpackJsonp||[]).push([[220],{1577:function(e,t,r){"use strict";r.r(t);var n=r(8),c=r(305),o=r(11),l=r(0),d=r(5),h=r(51),O=r(358),j=r(315);class m{constructor(){this.site=new l.S}}t.default=c.a.extend({name:"CollectionPage",data:()=>new m,asyncData:e=>Object(n.a)((function*(){var{$api:t,$site:r,$cookies:n,$lcz:c,store:j,route:m,query:v,redirect:f,error:y}=e;try{var{id:T,slug:S,urlSlug:P}=Object(o.y)(m),w=j.getters.getSite(n,r),k=Object(h.a)({store:j,$cookies:n},null==r?void 0:r.id),I=yield Object(O.b)(t,new l.gb({siteId:k,id:T?+T:void 0,slug:T?void 0:S}),v);return I?I.slug!=P?f(301,Object(o.w)({$route:m},{id:I.id,slug:I.slug,pageTemplateType:I.pageTemplateType})):(j.dispatch("setPage",I),{site:w,collection:I}):y({statusCode:404,message:null==c?void 0:c.t("messages.collectionNotFound")})}catch(e){var D;return null===d.a||void 0===d.a||d.a.errorLog({error_name:e.name,message:e.message,stack:e.stack,source_dir:"pages/store/collections/_id/",source_file:"_.tsx"}),y({statusCode:(null===(D=e.responseStatus)||void 0===D?void 0:D.errorCode)||404,message:null==c?void 0:c.t("messages.collectionNotFound")})}}))(),head:()=>({titleTemplate:"Store | %s",bodyAttrs:{class:["kmb-site-store-body","kmb-collection-template-default"]}}),beforeDestroy(){this.page=null},render(e){return e(j.a,{attrs:{site:this.site,page:this.collection}})}})},303:function(e,t,r){"use strict";var n=r(2),c=[Object(n.hb)("id"),Object(n.hb)("name"),Object(n.hb)("nameHtml"),Object(n.hb)("slug"),Object(n.hb)("label"),Object(n.hb)("mainImage"),Object(n.hb)("rollOverPictureImage"),Object(n.hb)("isEnabledRollOverPicture"),Object(n.hb)("inventoryStockType"),Object(n.hb)("isAutomaticallyTrackInventory"),Object(n.hb)("availableQuantity"),Object(n.hb)("rating"),Object(n.hb)("isUsePrice"),Object(n.hb)("isUseSalePrice"),Object(n.hb)("isEnabledSku"),Object(n.hb)("isEnabledOptionGroups"),Object(n.hb)("optionGroups"),Object(n.hb)("activeInventorySku"),Object(n.hb)("defaultInventorySku"),Object(n.hb)("defaultInventorySkuId"),Object(n.hb)("skus"),Object(n.hb)("publishStatus"),Object(n.hb)("publishDate"),Object(n.hb)("siteId"),Object(n.hb)("pageTemplateType")];t.a=c},304:function(e,t,r){"use strict";var n=r(2),c=[Object(n.hb)("id"),Object(n.hb)("name"),Object(n.hb)("slug"),Object(n.hb)("image"),Object(n.hb)("pageTemplateType"),Object(n.hb)("siteId")];t.a=c},315:function(e,t,r){"use strict";var n=r(6),c=r(1),o=r.n(c),l=r(342),d=r.n(l),h=r(7),O=r.n(h),j=r(76),m=r(14),v=r(11),f=r(5),y=r(341);class T{constructor(){this.timer=null}}var S=n.componentFactory.mixin(m.D).create({name:"WebSitePageTemplate",props:{site:o.a.ofType().optional,page:o.a.ofType().required},data:()=>new T,head(){var{title:title,meta:meta}=Object(v.I)(this.page);return{title:title,meta:meta}},mounted(){this.onInitAOS()},beforeDestroy(){clearTimeout(this.timer)},methods:{onInitAOS(){try{this.isEnabledAnimation&&d.a&&(this.timer=setTimeout((()=>{d.a.init({easing:"ease-in-cubic",duration:600})}),1e3),this.$nuxt.$once("triggerScroll",(()=>{this.$nextTick((()=>{d.a.refresh()}))})))}catch(e){null===f.a||void 0===f.a||f.a.errorLog({error_name:e.name,message:e.message,stack:e.stack,additional_info:"Error importing AOS",source_dir:"components/Builder/TemplatesWebSitePageTemplate/",source_file:"index.tsx"})}}},render(e){if(this.page)return e("div",{class:O()(Object(v.j)(this.page)),attrs:{"data-page-template-type":this.page.pageTemplateType}},[Object(v.J)(e,y.a,this.page,this.currentSite,j.a)]);null===f.a||void 0===f.a||f.a.warnLog({message:"Page is unavailable!",source_dir:"components/Builder/Templates/WebSitePageCategoryTemplate/",source_file:"index.tsx"})}});t.a=S},325:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return o.a}));var n=r(2),c=[Object(n.hb)("id"),Object(n.hb)("name"),Object(n.hb)("nameHtml"),Object(n.hb)("slug"),Object(n.hb)("coverImage"),Object(n.hb)("publishStatus"),Object(n.hb)("publishDate"),Object(n.hb)("expectedReadMinutes"),Object(n.hb)("shortDescription"),Object(n.hb)("button"),Object(n.hb)("likedCount"),Object(n.hb)("viewedCount"),Object(n.hb)("siteId"),Object(n.hb)("pageTemplateType")],o=r(303);r(304)},358:function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r.d(t,"c",(function(){return f})),r.d(t,"d",(function(){return y})),r.d(t,"b",(function(){return T}));r(17);var n=r(8),c=r(10),o=(r(24),r(325)),l=r(0),d=r(2),h=r(160);function O(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function j(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?O(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):O(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}class m{constructor(e){this.rangePrices=null,this.rating=null,this.tagLabels=null,this.q=null,this.orderBy=null,this.take=null,Object.assign(this,e)}}var v=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new l.tb,r=arguments.length>1?arguments[1]:void 0;if(Object(d.T)(r))return t;if(null!=r&&r.rangePrices){var n,c=null===(n=String(r.rangePrices))||void 0===n?void 0:n.split(",").map((e=>Number(e)));t.minPrice=c[0],t.maxPrice=c[1]}(Object(d.Z)(null==r?void 0:r.rating)&&(t.rating=Number(r.rating)),null!=r&&r.tagLabels)&&(t.tagLabels=null===(e=String(r.tagLabels))||void 0===e?void 0:e.split(","));if(null!=r&&r.q){var o=JSON.parse(String(null==r?void 0:r.q));Object(d.T)(o)||(t instanceof l.tb?t.productGroupsDic=o:t instanceof l.gb&&(t.filterProductGroupsDic=o))}return d.g.removeEmptyFields(j({},t))},f=(e,t)=>{if(Object(d.T)(e))return new l.tb;var r=Object(d.mb)(new l.tb({siteId:e.siteId,includeSku:!0,includeOnlyPublished:!0,include:"total",take:12,skip:0,collectionId:e.id,orderBy:h.a[null==e?void 0:e.sortType]||"-id",fields:o.b.join(",")}),t);return e.includeAllProducts||(r.collectionId=e.id),v(new l.tb(j({},r)),t)},y=e=>Object(d.T)(e)?null:JSON.stringify(e),T=function(){var e=Object(n.a)((function*(e,t,r){try{var n=((e,t)=>{if(!Object(d.T)(e)){var r=new l.gb(j({includeSidebarContent:!0,includeOnlyPublished:!0},e));return v(r,t)}})(t,r),c=y(null==n?void 0:n.filterProductGroupsDic),o=yield e.getSingle(new l.gb(d.g.removeEmptyFields(j(j({},n),{},{filterProductGroupsDic:c}))));if(!o)return null;var h=f(o,r),O=y(null==h?void 0:h.productGroupsDic);if(!Object(d.T)(h)){var m=yield e.get(new l.tb(d.g.removeEmptyFields(j(j({},h),{},{productGroupsDic:O}))));Object(d.T)(m)||(o.products=m)}return o}catch(e){throw e}}));return function(t,r,n){return e.apply(this,arguments)}}()}}]);